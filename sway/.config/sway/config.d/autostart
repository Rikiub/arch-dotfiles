# GTK3 applications take a long time to start (FIX)
exec dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY SWAYSOCK

set $sway_scripts $HOME/.config/sway/scripts

# ---START---
exec --no-startup-id {

	# ---USER---

	gammastep

	syncthing

	darkman run

	# ---DEFAULT---

	# swayidle (Screensaver)
	swayidle -w \
		timeout 600 'swaymsg "output * power off"' \
		resume 'swaymsg "output * power on"'

	# clipboard (clipman)
	wl-paste -t text --watch clipman store \
	--no-persist

	# notify daemon
	mako

	# wallpaper with "azote"
	#~/.azotebg
		
	# wallpaper with "swww"
	#swww init

	# enable geoclue agent
	/usr/lib/geoclue-2.0/demos/agent

	# polkit-gnome
	/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

	# ---APPLETS---
	
	# nm-applet
	nm-applet

	# manage bluetooh devices
	blueman-applet

	# ---SCRIPTS---

	# autotiling script
	$sway_scripts/autotiling.py

	# autorename workspaces
	$sway_scripts/autoname-workspaces.py
	
	# transparency
	$sway_scripts/inactive-windows-transparency.py
}

# start bar
bar swaybar_command waybar
